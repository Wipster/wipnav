/**
 * Wipnav - jQuery Plugin
 * Responsive Navigation
 *
 * Copyright (c) 2013 Florian Fassing
 * 
 * @author Florian Fassing
 * @version 0.2.5 (08-OCT-13)
 * 
 * Requires: jQuery v1.7+
 *
 * Licensed under Creative Commons Attribution-NonCommercial 3.0:
 *   http://creativecommons.org/licenses/by-nc/3.0/legalcode
 */
var ns="wipnav";(function(b){var a={init:function(c){var d=b.extend({type:"accordion",threshold:980,navButton:null,animIn:{height:"show"},animOut:{height:"hide"},mobNavAnim:{height:"toggle"},speed:250,colClass:"collapsed",expClass:"expanded",hoverClass:"wip-hover"},c);return this.each(function(){var f=b(this),e=f.data(ns);if(d.sufi&&d.sufiSettings==null){console.warn("Wipnav: Superfish settings are required in order to restart the Superfish Navigation on window resize. "+d.sufiSettings+" is given!")}else{if(!e){f.data(ns,{mobNavAct:false,navAct:false,vpWidth:0,settings:d});e=f.data(ns);b(window).bind("resize."+ns,function(g){if(b(window).width()<=d.threshold){e.vpWidth=b(window).width();if(e.navAct===true){e.navAct=a.killNav.apply(f)}if(e.mobNavAct===false){e.mobNavAct=a.initMobNav.call(f)}}else{if(e.navAct===false){e.navAct=a.initNav.call(f)}if(e.mobNavAct===true){e.mobNavAct=a.killMobNav.call(f)}}});b(window).trigger("resize")}else{console.warn("Wipnav: Plugin has already been initialized!")}}})},initNav:function(){var d=b(this),c=d.data(ns),e=c.settings.hoverClass;d.find("li").bind("mouseenter."+ns,function(){b(this).addClass(e);b(this).find("ul:first").stop(true).height("auto").animate(c.settings.animIn,c.settings.speed)}).bind("mouseleave."+ns,function(){b(this).find("ul:first").stop(true).animate(c.settings.animOut,c.settings.speed);b(this).removeClass(e)});return true},killNav:function(){var d=b(this),c=d.data(ns),e=c.settings.hoverClass;d.find("li").unbind("mouseenter."+ns).unbind("mouseleave."+ns).removeClass(e);return false},initMobNav:function(){var i=b(this),h=i.data(ns),g=h.settings.colClass,f=h.settings.expClass,d=g+" "+f;if(!(b(h.settings.navButton)==null)){i.hide();var c=b(h.settings.navButton),e=false;c.removeClass(f).addClass(g).show();c.bind("click."+ns,function(){if(c.hasClass(g)){c.toggleClass(d)}i.animate(h.settings.mobNavAnim,function(){if(c.hasClass(f)&&e){c.toggleClass(d)}e=!e})})}i.find("li").has("ul").addClass("hasSub "+g).find("a:first-child:first, span:first-child:first").bind("click."+ns,function(k){k.preventDefault();var j=b(this);if(h.settings.type==="accordion"){i.find("li."+f).not(b(this).parents("li.hasSub")).toggleClass(d).find("ul:first").slideUp();j.parents("li.hasSub").toggleClass(d);j.siblings("ul").slideToggle()}else{if(j.parents("li.hasSub").hasClass(g)){j.parents("li.hasSub:first").toggleClass(d);menuPart=j.parents("ul:first").add(b("."+f).parents("ul:first"));menuPart.css("left","auto").animate({right:h.vpWidth*-1},function(){j.parents("."+f).eq(1).find("> span:first, > a:first").hide();j.parents("li.hasSub:first").siblings("li").hide();menuPart.css({right:"auto",left:h.vpWidth*-1}).add(j.siblings("ul").show()).animate({left:0})})}else{menuPart.css("right","auto").animate({left:h.vpWidth*-1},function(){j.parents("."+f).eq(1).find("> span:first, > a:first").show();j.siblings("ul").hide();j.parents("li.hasSub:first").siblings("li").show();menuPart.css({right:h.vpWidth*-1,left:"auto"}).animate({right:0});j.parents("li.hasSub:first").toggleClass(d)})}}});return true},killMobNav:function(){var f=b(this),e=f.data(ns),d=e.settings.colClass,c=e.settings.expClass;if(!(b(e.settings.navButton)==null)){f.show();b(e.settings.navButton).unbind("click."+ns).hide()}if(e.settings.type==="accordion"){f.find("li").removeClass("hasSub "+d+" "+c).find("a:first-child:first, span:first-child:first").unbind("."+ns)}if(e.settings.type==="slider"){f.find("li").has("ul").removeClass("hasSub "+d+" "+c).find("a:first-child:first, span:first-child:first").unbind("."+ns)}return false},destroy:function(){return this.each(function(){var d=b(this),c=d.data(ns);b(window).unbind("."+ns);c.wipnav.remove();d.removeData(ns)})}};b.fn.wipnav=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)}else{b.error("Method "+c+" does not exist in jQuery.wipnav")}}}})(jQuery);